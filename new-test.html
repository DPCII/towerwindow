<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>

    <div id="player"></div>

    <script>
          if (!window['YT']) {
    var YT = {
      loading: 0,
      loaded: 0
    };
  }
  if (!window['YTConfig']) {
    var YTConfig = {
      'host': 'http://www.youtube.com'
    };
  }
  if (!YT.loading) {
    YT.loading = 1;
    (function () {
      var l = [];
      YT.ready = function (f) {
        if (YT.loaded) {
          f();
        } else {
          l.push(f);
        }
      };
      window.onYTReady = function () {
        YT.loaded = 1;
        for (var i = 0; i < l.length; i++) {
          try {
            l[i]();
          } catch (e) {}
        }
      };
      YT.setConfig = function (c) {
        for (var k in c) {
          if (c.hasOwnProperty(k)) {
            YTConfig[k] = c[k];
          }
        }
      };
      var a = document.createElement('script');
      a.type = 'text/javascript';
      a.id = 'www-widgetapi-script';
      a.src = 'https://s.ytimg.com/yts/jsbin/www-widgetapi-vfloS5Wsk/www-widgetapi.js';
      a.async = true;
      var c = document.currentScript;
      if (c) {
        var n = c.nonce || c.getAttribute('nonce');
        if (n) {
          a.setAttribute('nonce', n);
        }
      }
      var b = document.getElementsByTagName('script')[0];
      b.parentNode.insertBefore(a, b);
    })();
  }
  var player;

  function onYouTubePlayerAPIReady() {
    player = new YT.Player('player', {
      height: '390',
      width: '640',
      videoId: '0Bmhjf0rKe8?rel=0&ytp-pause-overlay=0',
      events: {
        'onReady': onPlayerReady,
        'onStateChange': onPlayerStateChange
      }
    });
  }

  // autoplay video
  function onPlayerReady(event) {
    event.target.playVideo();
  }

  // when video ends
  function onPlayerStateChange(event) {
    if (event.data === 0) {
      let abc = document.getElementById('player')
      abc.remove()
    }
  }    

  function killSheets() {
    let sheets = document.styleSheets;
    let display_none = " { display: none !important; }";

    // youtube video recommendations
    sheets[0].insertRule("ytd-compact-video-renderer.style-scope" + display_none);
    sheets[0].insertRule("ytd-compact-radio-renderer.style-scope" + display_none);

    sheets[0].insertRule("#dismissable.ytd-compact-movie-renderer" + display_none);
    sheets[0].insertRule("ytd-movie-offer-module-renderer" + display_none);

    sheets[0].insertRule("#container.ytd-iframe-companion-renderer" + display_none);

    sheets[0].insertRule("ytd-image-companion-renderer.style-scope" + display_none);
    sheets[0].insertRule("ytd-compact-playlist-renderer.style-scope" + display_none);
    sheets[0].insertRule("a.ytd-action-companion-renderer" + display_none);
    sheets[0].insertRule("#google_companion_ad_div" + display_none);

    sheets[0].insertRule("#upnext" + display_none);

    sheets[0].insertRule("li.video-list-item.related-list-item" + display_none); 
    sheets[0].insertRule("h4.watch-sidebar-head" + display_none); 
    sheets[0].insertRule("hr.watch-sidebar-separation-line" + display_none); 
    sheets[0].insertRule("button#watch-more-related-button" + display_none);
    sheets[0].insertRule("div.ytp-pause-overlay.ytp-scroll-min" + display_none);
    sheets[0].insertRule("#player_uid_108233692_1 > div.ytp-pause-overlay.ytp-scroll-min" + display_none);


  }

  // when video pauses
  function onPlayerStateChange(event) {
      if(event.data === 2) {
        let abc = document.getElementById('player')
        // abc.remove()
        killSheets()
      }
  }
    killSheets()
    </script>
    
</body>
</html>